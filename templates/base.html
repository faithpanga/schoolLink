{% load static tailwind_tags %}

<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-100">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SchoolLink</title>
    {% tailwind_css %}
  </head>
  <body class="h-full">
    <!-- Navigation Bar -->
    <nav class="bg-white shadow-md">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <!-- Logo/Brand Name -->
          <div class="flex-shrink-0">
            <a href="/" class="text-2xl font-bold text-gray-800">SchoolLink</a>
          </div>

          <!-- Nav Links for Authenticated Users -->
          <div class="hidden md:flex items-center space-x-4">
            {% if user.is_authenticated %} {% if user.role == 'TEACHER' %}
            <a
              href="{% url 'teacher_dashboard' %}"
              class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium"
              >Dashboard</a
            >
            <a
              href="{% url 'view_events' %}"
              class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium"
              >Events</a
            >
            {% elif user.role == 'PARENT' %}
            <a
              href="{% url 'parent_dashboard' %}"
              class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium"
              >Dashboard</a
            >
            <a
              href="{% url 'view_events' %}"
              class="text-gray-600 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium"
              >Events</a
            >
            {% endif %} {% endif %}
          </div>

          <!-- Login/Logout -->
          <div class="flex items-center">
            {% if user.is_authenticated %}
            <span class="text-gray-700 text-sm mr-4"
              >Welcome, {{ user.first_name|default:user.username }}</span
            >
            <a
              href="{% url 'logout' %}"
              class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-md text-sm font-medium"
              >Logout</a
            >
            {% else %}
            <a
              href="{% url 'login' %}"
              class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-md text-sm font-medium"
              >Login</a
            >
            {% endif %}
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content Block -->
    <main>
      <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        {% block content %} {% endblock %}
      </div>
    </main>
  </body>
</html>
